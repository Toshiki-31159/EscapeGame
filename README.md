# アプリ名  
## 🎮Escape-Game

# 概要
## 📱Swiftを用いたiPhone用の脱出ゲーム

# 制作背景(意図)
### オリジナルゲームを作成したいと思い、その中で脱出ゲームの構造は条件処理によって特定の条件が満たされることでゲーム内に変化が起こる仕組みなので、自身の論理的思考力を鍛えつつ発展的な条件分岐のプログラムを記述できると思い制作を行なった。

## ゲームの流れ
- 起動後に「はじめる」ボタンを押すことでゲームが開始する

https://gyazo.com/46d8ace71b421322e08729b87ce1bf6f

- 左ソファにタッチするとソファの正面画像とヒントが見れる
- 右ソファにタッチするとソファの正面画像と宝箱が見れる
- バックボタン（青矢印）を押すと元の画面に戻る

https://gyazo.com/3b49200cde273f0be0756d3a3db51674
- リモコンにタッチすると中央にリモコンの拡大画像が現れ、電源ボタンを押すとテレビが点灯する
- ドアにタッチするとドアの正面画像に遷移する

https://gyazo.com/9be58a912495ec4f0238779c2212adf4
- ソファのヒントをもとにリモコンでテレビを点灯させ、チャンネルボタンを押すと画面に鍵が出現する
- 鍵をタッチするとアイテム欄に鍵が移動する

https://gyazo.com/b19fa14b5e8463a9c0cff52bee81edd4
- アイテム欄の鍵を選択した状態でソファの宝箱をタッチすると宝箱が開封される
- 開封された宝箱をタッチするとヒントが書かれた紙が出現する

https://gyazo.com/09f9da4a09c6cc71ccb7aa4ef9954c47
- 宝箱のヒントをもとに再度リモコンでボタンを入力すると別のカギが出現する

https://gyazo.com/5437c84fbd258b1f1405e1f6182b45fc
- ドアの正面で二つ目の鍵を選択しタッチするとゲームクリア画面に遷移する

https://gyazo.com/1e1238ef30909eaf8dbf10626441dbbc
# 工夫したポイント
### アイテムの表示や取得、使用
keyFlagなどのフラグ変数を作り、アイテムを出現させる条件式やアイテムの入手の条件式をその変数の値の大きさ処理することでコードの可読性の向上を図った。更にAppDelegateに変数を宣言することで他のファイルでも共有が行えるようになり実装時間を短縮することができた。この後のリモコン操作処理にもつながるがフラグ変数の設定によりかなりコードが簡潔になった。

### リモコンのボタンによるアイテムの出現
リモコンのチャンネルボタンを特定の順番でタッチした場合にカギが出現する仕組みの実装で一番苦労した部分であり、一番実装した感動が大きかった部分です。
ここでも役に立ったのがフラグ変数で変数が0の時に二番のボタンを押したら変数にプラス１するという仕組みを繰り返すことで順番通りに押した時出現するようにできた。しかし、この場合だと順番の途中で違う部分をタッチした後再度途中からタッチしても出現してしまうので、別の部分をタッチした場合変数を０に戻す処理を行ってみた。結果うまくいかず原因は変数の値を２にするif文と変数の値が2の時に出現させるif文のelse処理とが被ってしまいうまくいかなかった。そこでelse処理の中に変数の値を２にする部分のタッチ領域は含まないようにすることで無事理想通りの実装が行えた。

今回のアイテムや拡大表示の処理は全てzPositionの値で実装したおかげでコードが長くなりやすい脱出ゲームを比較的短いコードで実装できたと感じる。
# 使用技術
### プログラミング言語
###### Swift
### ソース管理
###### Github
### エディタ
###### XCode
# 課題と今後実装したい機能
- SE機能の実装。SEをつけることでよりタッチした時の感覚がわかりやすくなると思う
- テキスト欄の実装。上部などにアイテムの説明や起きたことに対してテイストがあればより分かりやすいゲームになると思う
- スタート画面への遷移。現在クリア後にスタート画面に戻れないので戻る機能があれば再プレイもやりやすくなると思う
